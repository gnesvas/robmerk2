<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>forsa</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">

<!-- خلفية الذرات 3D -->
<script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
<style>
  :root{
    --accent:#7b2cff; --accent-dark:#5a1fd1;
    --radius:20px;
    --card-w:420px;
  }
  /* خلفية الذرات */
  #particles-js{position:fixed;inset:0;z-index:-1;background:#0d0017;}
  body{margin:0;font-family:Inter,sans-serif;display:grid;place-items:center;min-height:100vh;color:#000}
  .card{
    width:min(var(--card-w),92vw); background:#fff; border-radius:20px;
    border:3px solid var(--accent); box-shadow:0 14px 30px rgba(123,44,255,.25);
    padding:28px 20px 34px; text-align:center; position:relative;
  }
  .brand-bar{
    position:absolute; left:50%; top:-30px; transform:translateX(-50%);
    background:#fff; border:3px solid var(--accent); border-radius:16px; padding:8px 18px;
    box-shadow:0 8px 20px rgba(123,44,255,.25);
  }
  .brand{height:34px}
  h1{margin:36px 0 18px}

  .timer {
    font-size: 28px;
    font-weight: bold;
    color: #e74c3c;
    margin-bottom: 20px;
  }
  .question {
    font-size: 20px;
    margin: 20px 0;
    font-weight: bold;
  }
  .options {
    text-align: right;
    margin-bottom: 20px;
  }
  .options label {
    display: block;
    margin: 12px 0;
    cursor: pointer;
    font-size: 18px;
  }
  .btn {
    padding: 12px 25px;
    border: none;
    border-radius: 8px;
    font-size: 18px;
    cursor: pointer;
    transition: 0.3s;
  }
  .btn-check {
    background: linear-gradient(180deg,var(--accent),var(--accent-dark));
    color: white;
    font-weight: 700;
  }
  .btn-check:hover {
    opacity: 0.9;
  }
  .btn-gift {
    background: #f1c40f;
    color: black;
    font-weight: bold;
    margin-top: 20px;
  }
  .btn-gift:hover {
    background: #d4ac0d;
  }
  .hidden { display:none; }
  .error {
    color: red;
    margin-top: 15px;
    font-size: 16px;
    font-weight: bold;
  }
</style>
</head>
<body>
<div id="particles-js"></div>

<section class="card">
  <div class="brand-bar">
    <img src="https://static.vecteezy.com/system/resources/previews/014/605/423/large_2x/gift-icon-line-color-vector.jpg" 
         alt="gift" class="brand">
  </div>

  <h1>!فرصة للفوز</h1>

  <div class="timer" id="timer">120</div>
  <div id="quiz-area">
    <div class="question" id="question">تحميل السؤال...</div>
    <div class="options" id="options"></div>
    <button class="btn btn-check" onclick="checkAnswer()">تحقق من الإجابة</button>
    <div id="error" class="error"></div>
  </div>

  <div id="gift-area" class="hidden">
    <h2>🎉 مبروك! جاوبت صح</h2>
    <a href="https://gnesvas.github.io/chjan2/" class="btn btn-gift">استلم الهدية</a>
  </div>
</section>

<script>
  /* تهيئة الذرات */
  particlesJS("particles-js",{
    particles:{number:{value:70,density:{enable:true,value_area:800}},
      color:{value:"#7b2cff"},shape:{type:"circle"},
      opacity:{value:.6,random:true},size:{value:4,random:true},
      line_linked:{enable:true,distance:150,color:"#7b2cff",opacity:.4,width:1},
      move:{enable:true,speed:2,direction:"none",out_mode:"out"}},
    interactivity:{detect_on:"canvas",
      events:{onhover:{enable:true,mode:"grab"},onclick:{enable:true,mode:"push"}},
      modes:{grab:{distance:140,line_linked:{opacity:.8}},push:{particles_nb:3}}},
    retina_detect:true
  });

  // قائمة أسئلة (عدلها أو زدها)
  const questions = [
    { q: "ما هي عاصمة السعودية؟", options: ["جدة", "الرياض", "مكة"], correct: 1 },
    { q: "كم عدد الكواكب في المجموعة الشمسية؟", options: ["7", "8", "9"], correct: 1 },
    { q: "ما هو أسرع حيوان بري؟", options: ["الفهد", "الأسد", "النمر"], correct: 0 },
    { q: "ما هو حاصل ضرب 7 × 8؟", options: ["54", "56", "64"], correct: 1 },
    { q: "أطول نهر في العالم هو؟", options: ["الأمازون", "النيل", "اليانغتسي"], correct: 1 }
  ];

  // سؤال عشوائي
  let currentQ = questions[Math.floor(Math.random() * questions.length)];

  // عرض السؤال وخياراته
  document.getElementById("question").innerText = currentQ.q;
  let optionsHTML = "";
  currentQ.options.forEach((opt, i) => {
    optionsHTML += `<label><input type="radio" name="answer" value="${i}"> ${opt}</label>`;
  });
  document.getElementById("options").innerHTML = optionsHTML;

  // المحاولات
  let attempts = 3;

  function checkAnswer() {
    let selected = document.querySelector('input[name="answer"]:checked');
    if (!selected) {
      document.getElementById("error").innerText = "اختر إجابة أولاً!";
      return;
    }
    if (parseInt(selected.value) === currentQ.correct) {
      document.getElementById("quiz-area").classList.add("hidden");
      document.getElementById("gift-area").classList.remove("hidden");
    } else {
      attempts--;
      if (attempts > 0) {
        document.getElementById("error").innerText = "إجابة خاطئة! لديك " + attempts + " محاولات متبقية.";
      } else {
        document.getElementById("quiz-area").innerHTML = "<h2>❌ انتهت محاولاتك</h2>";
      }
    }
  }

  // تايمر 120 ثانية
  let timeLeft = 120;
  let timer = setInterval(() => {
    timeLeft--;
    document.getElementById("timer").innerText = timeLeft;
    if (timeLeft <= 0) {
      clearInterval(timer);
      document.getElementById("quiz-area").innerHTML = "<h2>⏰ انتهى الوقت</h2>";
    }
  }, 1000);
</script>
</body>
</html>
